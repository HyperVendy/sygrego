<% title "Editing user" %>

<h1><%= yield(:title) %></h1>

<%= render partial: "form", locals: { 
                              url: admin_user_path(@user), 
                              method: :put } %>

<br/>

<h2>Roles</h2>

<table class="table table-dark">
    <% @roles.each do |role| %>
    <tr>
    	<td> 
	    	<%= role.name  %></span></br>
    	</td>

    	<td> 
            <% if @user.roles.include?(role) %>
	    	<%= link_to "Remove", purge_admin_user_role_path(user_id: @user, id: role),
	        	              class: danger_button_class,
    	        	          user: "button",
                              method: :delete %>
            <% else %>
	    	<%= link_to "Add", add_admin_user_role_path(user_id: @user, id: role),
	        	              class: primary_button_class,
    	        	          user: "button",
                              method: :patch %>
            <% end %>
    	</td>
    </tr>
    <% end %>
</table>



<br/>

<%= link_to "Back", admin_users_path,
                  class: primary_button_class,
                  user: "button" %>
<%= link_to "Details", admin_user_path(@user),
                  class: primary_button_class,
                  user: "button" %>
<%= link_to "Destroy", admin_user_path(@user),
                  method: :delete,
                  data: { confirm: "Are you sure?" },
                  class: danger_button_class,
                  user: "button" %>
